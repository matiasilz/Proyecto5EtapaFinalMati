.CODE
 PUSH main
 CALL
 HALT
Lmalloc:
 LOADFP 
 LOADSP
 STOREFP
 LOADHL
 DUP
 PUSH 1
 ADD
 STORE 4
 LOAD 3
 ADD
 STOREHL
 STOREFP
 RET 1
.DATA
VT_A:
 DW setPrivateX1, enteroX, getPrivateX1, init, enteroA, getPrivateA1
VT_X:
 DW setPrivateX1, enteroX, getPrivateX1
VT_Object:
 NOP
VT_String:
 NOP
VT_MainModule:
 NOP
VT_System:
 NOP
.CODE
 init:
 LOADFP
 LOADSP
 STOREFP
 PUSH 11
 LOAD 3 ;Apilo this
 SWAP
 STOREREF 3
 PUSH 22
 LOAD 3 ;Apilo this
 SWAP
 STOREREF 4
 PUSH 33
 LOAD 3 ;Apilo this
 SWAP
 STOREREF 2
 FMEM 0
 STOREFP
 RET 1
  
 enteroA:
 LOADFP
 LOADSP
 STOREFP
 FMEM 0 ; Reservo espacio para las variables locales
 PUSH 99
 STORE 4
 STOREFP
 RET 1 ; Se liberan 1 lugares de la pila
 FMEM 0
 STOREFP
 RET 1
  
 getPrivateA1:
 LOADFP
 LOADSP
 STOREFP
 FMEM 0 ; Reservo espacio para las variables locales
 LOAD 3 ;Apilo this
 LOADREF 4
 STORE 4
 STOREFP
 RET 1 ; Se liberan 1 lugares de la pila
 FMEM 0
 STOREFP
 RET 1
  
 A:
 LOADFP
 LOADSP
 STOREFP
 STOREFP
 RET 1
 setPrivateX1:
 LOADFP
 LOADSP
 STOREFP
 LOAD 4
 LOAD 3
 LOAD 3 ;Apilo this
 LOADREF 1
 FMEM 0
 STOREFP
 RET 2
  
 enteroX:
 LOADFP
 LOADSP
 STOREFP
 FMEM 0 ; Reservo espacio para las variables locales
 PUSH 101
 STORE 4
 STOREFP
 RET 1 ; Se liberan 1 lugares de la pila
 FMEM 0
 STOREFP
 RET 1
  
 getPrivateX1:
 LOADFP
 LOADSP
 STOREFP
 FMEM 0 ; Reservo espacio para las variables locales
 LOAD 3 ;Apilo this
 LOADREF 1
 STORE 4
 STOREFP
 RET 1 ; Se liberan 1 lugares de la pila
 FMEM 0
 STOREFP
 RET 1
  
 X:
 LOADFP
 LOADSP
 STOREFP
 STOREFP
 RET 1
 debugPrint:
 LOADFP
 LOADSP
 STOREFP
 LOAD 3
 IPRINT
 PRNLN
 STOREFP
 RET 1
  
 Object:
 LOADFP
 LOADSP
 STOREFP
 STOREFP
 RET 1
 String:
 LOADFP
 LOADSP
 STOREFP
 STOREFP
 RET 1
 main:
 LOADFP
 LOADSP
 STOREFP
 RMEM 1
 RMEM 1
 PUSH 5
 PUSH Lmalloc
 CALL
 DUP
 PUSH VT_A
 STOREREF 0
 DUP
 PUSH A
 CALL
 STORE 0
 LOAD 0
 DUP 
 LOADREF 0
 LOADREF 3
 CALL
 LOAD 0
 RMEM 1
 SWAP
 DUP 
 LOADREF 0
 LOADREF 1
 CALL
 PUSH printIln
 CALL
 LOAD 0
 LOAD 3 ;Apilo this
 LOADREF 3
 PUSH printIln
 CALL
 LOAD 0
 LOAD 3 ;Apilo this
 LOADREF 2
 PUSH printIln
 CALL
 LOAD 0
 RMEM 1
 SWAP
 DUP 
 LOADREF 0
 LOADREF 5
 CALL
 PUSH printIln
 CALL
 LOAD 0
 PUSH 1
 SWAP
 DUP 
 LOADREF 0
 LOADREF 0
 CALL
 LOAD 0
 RMEM 1
 SWAP
 DUP 
 LOADREF 0
 LOADREF 2
 CALL
 PUSH printIln
 CALL
 FMEM 1
 STOREFP
 RET 0
  
 MainModule:
 LOADFP
 LOADSP
 STOREFP
 STOREFP
 RET 1
 printC:
 LOADFP
 LOADSP
 STOREFP
 LOAD 3
 CPRINT
 STOREFP
 RET 1
  
 printS:
 LOADFP
 LOADSP
 STOREFP
 LOAD 3
 SPRINT
 STOREFP
 RET 1
  
 println:
 LOADFP
 LOADSP
 STOREFP
 IPRINT
 PRNLN
 STOREFP
 RET 0
  
 printCln:
 LOADFP
 LOADSP
 STOREFP
 LOAD 3
 CPRINT
 PRNLN
 STOREFP
 RET 1
  
 printSln:
 LOADFP
 LOADSP
 STOREFP
 LOAD 3
 SPRINT
 PRNLN
 STOREFP
 RET 1
  
 read:
 LOADFP
 LOADSP
 STOREFP
 READ
 STOREFP
 RET 1
  
 printB:
 LOADFP
 LOADSP
 STOREFP
 LOAD 3
 BPRINT
 STOREFP
 RET 1
  
 printIln:
 LOADFP
 LOADSP
 STOREFP
 LOAD 3
 IPRINT
 PRNLN
 STOREFP
 RET 1
  
 printI:
 LOADFP
 LOADSP
 STOREFP
 LOAD 3
 IPRINT
 STOREFP
 RET 1
  
 printBln:
 LOADFP
 LOADSP
 STOREFP
 LOAD 3
 BPRINT
 PRNLN
 STOREFP
 RET 1
  
 System:
 LOADFP
 LOADSP
 STOREFP
 STOREFP
 RET 1
